<ui:composition  xmlns="http://www.w3.org/1999/xhtml"
                 xmlns:h="http://java.sun.com/jsf/html"
                 xmlns:f="http://java.sun.com/jsf/core"
                 xmlns:ui="http://java.sun.com/jsf/facelets"
                 xmlns:p="http://primefaces.org/ui"
                 template="/template/mainTemplate.xhtml"
                 xmlns:x="http://xpert.com/faces">
    <ui:param name="title" value="Restorable Filter" />
    <ui:define name="body">
        <h:form id="formListPerson">

            RestorableFilter enable capacity to store a LazyDataModel filters in session

            <pre name="code" class="xml">
                &lt;x:restorableFilter target=&quot;dataTable&quot;  /&gt;
            </pre>

            <h2>Demo</h2>

            <x:restorableFilter target="dataTablePersonRestorable"  />

            <p:dataTable paginator="true" rows="10" rowsPerPageTemplate="10,20,30" paginatorPosition="bottom" emptyMessage="#{xmsg['noRecordFound']}"
                         var="person" rowIndexVar="index" id="dataTablePersonRestorable" widgetVar="dataTablePersonWidget" styleClass="table-responsive"
                         currentPageReportTemplate="#{personMB.dataModel.currentPageReportTemplate}"
                         paginatorTemplate="#{personMB.dataModel.paginatorTemplate}"
                         value="#{personMB.dataModel}" lazy="true" >
                <p:column styleClass="uix-datatable-index">
                    <h:outputText value="#{index+1}"/>
                </p:column>
                <p:column headerText="#{msg['person.code']}" sortBy="#{person.code}"
                          filterBy="#{person.code}"   >
                    <f:facet name="header">
                        <h:outputText value="#{msg['person.code']}" />
                    </f:facet>
                    <h:outputText value="#{person.code}"/>
                </p:column>
                <p:column headerText="#{msg['person.name']}" sortBy="#{person.name}"
                          filterBy="#{person.name}"   >
                    <f:facet name="header">
                        <h:outputText value="#{msg['person.name']}" />
                    </f:facet>
                    <h:outputText value="#{person.name}"/>
                </p:column>
                <p:column headerText="#{msg['person.birthday']}" sortBy="#{person.birthday}"
                          filterBy="#{person.birthday}" style="text-align: center"   >
                    <f:facet name="header">
                        <h:outputText value="#{msg['person.birthday']}" />
                        <x:dateFilter/>
                    </f:facet>
                    <h:outputText value="#{person.birthday}">
                        <f:convertDateTime/>
                    </h:outputText>
                </p:column>
                <p:column headerText="#{msg['person.rg']}" sortBy="#{person.rg}"
                          filterBy="#{person.rg}"   >
                    <f:facet name="header">
                        <h:outputText value="#{msg['person.rg']}" />
                    </f:facet>
                    <h:outputText value="#{person.rg}"/>
                </p:column>
                <p:column headerText="#{msg['person.status']}" sortBy="#{person.status}"
                          filterBy="#{person.status}"  filterOptions="#{findAllBean.getSelect(classMB.status)}" >
                    <f:facet name="header">
                        <h:outputText value="#{msg['person.status']}" />
                    </f:facet>
                    <h:outputText value="#{person.status}"/>
                </p:column>
            </p:dataTable>

            <br/>
            <p:commandButton  type="button" onclick="PF('dataTablePersonWidget').clearFilters()" value="Clear Filters"/>

            <h2>Source</h2>

            <pre name="code" class="xml">
             &lt;x:restorableFilter target=&quot;dataTablePersonRestorable&quot;  /&gt;
            
            &lt;p:dataTable paginator=&quot;true&quot; rows=&quot;10&quot; rowsPerPageTemplate=&quot;10,20,30&quot; paginatorPosition=&quot;bottom&quot; emptyMessage=&quot;\#{xmsg['noRecordFound']}&quot;
                         var=&quot;person&quot; rowIndexVar=&quot;index&quot; id=&quot;dataTablePersonRestorable&quot; widgetVar=&quot;dataTablePersonWidget&quot; styleClass=&quot;table-responsive&quot;
                         currentPageReportTemplate=&quot;\#{personMB.dataModel.currentPageReportTemplate}&quot;
                         paginatorTemplate=&quot;\#{personMB.dataModel.paginatorTemplate}&quot;
                         value=&quot;\#{personMB.dataModel}&quot; lazy=&quot;true&quot; &gt;
                &lt;p:column styleClass=&quot;uix-datatable-index&quot;&gt;
                    &lt;h:outputText value=&quot;\#{index+1}&quot;/&gt;
                &lt;/p:column&gt;
                &lt;p:column headerText=&quot;\#{msg['person.code']}&quot; sortBy=&quot;\#{person.code}&quot;
                          filterBy=&quot;\#{person.code}&quot;   &gt;
                    &lt;f:facet name=&quot;header&quot;&gt;
                        &lt;h:outputText value=&quot;\#{msg['person.code']}&quot; /&gt;
                    &lt;/f:facet&gt;
                    &lt;h:outputText value=&quot;\#{person.code}&quot;/&gt;
                &lt;/p:column&gt;
                &lt;p:column headerText=&quot;\#{msg['person.name']}&quot; sortBy=&quot;\#{person.name}&quot;
                          filterBy=&quot;\#{person.name}&quot;   &gt;
                    &lt;f:facet name=&quot;header&quot;&gt;
                        &lt;h:outputText value=&quot;\#{msg['person.name']}&quot; /&gt;
                    &lt;/f:facet&gt;
                    &lt;h:outputText value=&quot;\#{person.name}&quot;/&gt;
                &lt;/p:column&gt;
                &lt;p:column headerText=&quot;\#{msg['person.birthday']}&quot; sortBy=&quot;\#{person.birthday}&quot;
                          filterBy=&quot;\#{person.birthday}&quot; style=&quot;text-align: center&quot;   &gt;
                    &lt;f:facet name=&quot;header&quot;&gt;
                        &lt;h:outputText value=&quot;\#{msg['person.birthday']}&quot; /&gt;
                        &lt;x:dateFilter/&gt;
                    &lt;/f:facet&gt;
                    &lt;h:outputText value=&quot;\#{person.birthday}&quot;&gt;
                        &lt;f:convertDateTime/&gt;
                    &lt;/h:outputText&gt;
                &lt;/p:column&gt;
                &lt;p:column headerText=&quot;\#{msg['person.rg']}&quot; sortBy=&quot;\#{person.rg}&quot;
                          filterBy=&quot;\#{person.rg}&quot;   &gt;
                    &lt;f:facet name=&quot;header&quot;&gt;
                        &lt;h:outputText value=&quot;\#{msg['person.rg']}&quot; /&gt;
                    &lt;/f:facet&gt;
                    &lt;h:outputText value=&quot;\#{person.rg}&quot;/&gt;
                &lt;/p:column&gt;
                &lt;p:column headerText=&quot;\#{msg['person.status']}&quot; sortBy=&quot;\#{person.status}&quot;
                          filterBy=&quot;\#{person.status}&quot;  filterOptions=&quot;\#{findAllBean.getSelect(classMB.status)}&quot; &gt;
                    &lt;f:facet name=&quot;header&quot;&gt;
                        &lt;h:outputText value=&quot;\#{msg['person.status']}&quot; /&gt;
                    &lt;/f:facet&gt;
                    &lt;h:outputText value=&quot;\#{person.status}&quot;/&gt;
                &lt;/p:column&gt;
            &lt;/p:dataTable&gt;

            &lt;p:commandButton  type=&quot;button&quot; onclick=&quot;PF('dataTablePersonWidget').clearFilters()&quot; value=&quot;Clear Filters&quot;/&gt;
            </pre>

        </h:form>

    </ui:define>
</ui:composition>